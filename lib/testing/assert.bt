// Copyright (c) 2023-present Lukas Neubert and contributors (see AUTHORS.md).
// This Source Code Form is subject to the terms of the Mozilla Public License 2.0.
package testing

global test_runner := TestRunner{}

struct TestRunner{
	passes i32
	fails i32
}

pub fun assert(case bool) {
	if case {
		println('Test passed')
		test_runner.passes += 1
	} else {
		println('Test failed')
		test_runner.fails += 1
	}
}

fun (tr TestRunner) exit_code() i32 {
	if tr.fails > 0 {
		return 1
	}
	return 0
}
